{"version":3,"file":"findComponentDefinition.cjs","sources":["../../../src/compiler/findComponentDefinition.ts"],"sourcesContent":["import { toArray } from \"@/utils\";\nimport { NoCodeComponentEntry } from \"../types\";\nimport {\n  InternalComponentDefinition,\n  InternalComponentDefinitions,\n} from \"./types\";\n\ntype AnyContextWithDefinitions = { definitions: InternalComponentDefinitions };\n\nfunction allDefs(\n  context?: AnyContextWithDefinitions\n): InternalComponentDefinition[] {\n  return context?.definitions.components || [];\n}\n\n/**\n * Versions with context and custom components sweep\n */\n\nexport function findComponentDefinition(\n  config: NoCodeComponentEntry | undefined | null,\n  context: AnyContextWithDefinitions\n): InternalComponentDefinition | undefined {\n  return $findComponentDefinition(config, context);\n}\n\nexport function findComponentDefinitionById(\n  id: string,\n  context: AnyContextWithDefinitions\n): InternalComponentDefinition | undefined {\n  return $findComponentDefinitionById(id, context);\n}\n\nexport function findComponentDefinitionsByType(\n  tag: string,\n  context: AnyContextWithDefinitions\n): InternalComponentDefinition[] {\n  return allDefs(context).filter((def) =>\n    toArray(def.type ?? []).includes(tag)\n  );\n}\n\n/**\n * Generic\n */\n\nfunction $findComponentDefinition(\n  config: NoCodeComponentEntry | undefined | null,\n  context?: AnyContextWithDefinitions\n): InternalComponentDefinition | undefined {\n  if (!config) {\n    return undefined;\n  }\n\n  return $findComponentDefinitionById(config._component, context);\n}\n\nfunction $findComponentDefinitionById(\n  id: string,\n  context?: AnyContextWithDefinitions\n): InternalComponentDefinition | undefined {\n  return allDefs(context).find((component) => component.id === id);\n}\n"],"names":["allDefs","context","definitions","components","findComponentDefinition","config","$findComponentDefinition","findComponentDefinitionById","id","$findComponentDefinitionById","findComponentDefinitionsByType","tag","filter","def","toArray","type","includes","undefined","_component","find","component"],"mappings":";;;;;;;AASA,SAASA,OAAOA,CACdC,OAAmC,EACJ;AAC/B,EAAA,OAAOA,OAAO,EAAEC,WAAW,CAACC,UAAU,IAAI,EAAE,CAAA;AAC9C,CAAA;;AAEA;AACA;AACA;;AAEO,SAASC,uBAAuBA,CACrCC,MAA+C,EAC/CJ,OAAkC,EACO;AACzC,EAAA,OAAOK,wBAAwB,CAACD,MAAM,EAAEJ,OAAO,CAAC,CAAA;AAClD,CAAA;AAEO,SAASM,2BAA2BA,CACzCC,EAAU,EACVP,OAAkC,EACO;AACzC,EAAA,OAAOQ,4BAA4B,CAACD,EAAE,EAAEP,OAAO,CAAC,CAAA;AAClD,CAAA;AAEO,SAASS,8BAA8BA,CAC5CC,GAAW,EACXV,OAAkC,EACH;EAC/B,OAAOD,OAAO,CAACC,OAAO,CAAC,CAACW,MAAM,CAAEC,GAAG,IACjCC,eAAO,CAACD,GAAG,CAACE,IAAI,IAAI,EAAE,CAAC,CAACC,QAAQ,CAACL,GAAG,CACtC,CAAC,CAAA;AACH,CAAA;;AAEA;AACA;AACA;;AAEA,SAASL,wBAAwBA,CAC/BD,MAA+C,EAC/CJ,OAAmC,EACM;EACzC,IAAI,CAACI,MAAM,EAAE;AACX,IAAA,OAAOY,SAAS,CAAA;AAClB,GAAA;AAEA,EAAA,OAAOR,4BAA4B,CAACJ,MAAM,CAACa,UAAU,EAAEjB,OAAO,CAAC,CAAA;AACjE,CAAA;AAEA,SAASQ,4BAA4BA,CACnCD,EAAU,EACVP,OAAmC,EACM;AACzC,EAAA,OAAOD,OAAO,CAACC,OAAO,CAAC,CAACkB,IAAI,CAAEC,SAAS,IAAKA,SAAS,CAACZ,EAAE,KAAKA,EAAE,CAAC,CAAA;AAClE;;;;;;"}