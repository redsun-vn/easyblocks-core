{"version":3,"file":"responsiveValueFill.cjs","sources":["../../../src/responsiveness/responsiveValueFill.ts"],"sourcesContent":["import { getDeviceWidthPairs } from \"../compiler/getDeviceWidthPairs\";\nimport { Devices, ResponsiveValue, TrulyResponsiveValue } from \"../types\";\nimport { isTrulyResponsiveValue } from \"./isTrulyResponsiveValue\";\n\nexport function responsiveValueFill<T>(\n  value: ResponsiveValue<T>,\n  devices: Devices,\n  widths: TrulyResponsiveValue<number>\n): ResponsiveValue<T> {\n  if (!isTrulyResponsiveValue(value)) {\n    return value;\n  }\n\n  const componentWidths = getDeviceWidthPairs(widths, devices);\n  const result = {\n    ...value,\n  };\n\n  componentWidths.forEach(({ width, deviceId }, index) => {\n    if (result[deviceId] === undefined) {\n      // Let's look for a value up\n      for (let i = index + 1; i < componentWidths.length; i++) {\n        const valueForHigherWidth = result[componentWidths[i].deviceId];\n\n        if (valueForHigherWidth !== undefined) {\n          result[deviceId] = valueForHigherWidth;\n          break;\n        }\n      }\n\n      // If still undefined, let's look for a value down\n      if (result[deviceId] === undefined) {\n        for (let i = index - 1; i >= 0; i--) {\n          const valueForLowerWidth = result[componentWidths[i].deviceId];\n\n          if (valueForLowerWidth !== undefined) {\n            result[deviceId] = valueForLowerWidth;\n            break;\n          }\n        }\n      }\n\n      if (result[deviceId] === undefined) {\n        throw new Error(\"Can't fill\");\n      }\n    }\n  });\n\n  return result;\n}\n"],"names":["responsiveValueFill","value","devices","widths","isTrulyResponsiveValue","componentWidths","getDeviceWidthPairs","result","forEach","_ref","index","width","deviceId","undefined","i","length","valueForHigherWidth","valueForLowerWidth","Error"],"mappings":";;;;;;;;AAIO,SAASA,mBAAmBA,CACjCC,KAAyB,EACzBC,OAAgB,EAChBC,MAAoC,EAChB;AACpB,EAAA,IAAI,CAACC,6CAAsB,CAACH,KAAK,CAAC,EAAE;AAClC,IAAA,OAAOA,KAAK,CAAA;AACd,GAAA;AAEA,EAAA,MAAMI,eAAe,GAAGC,uCAAmB,CAACH,MAAM,EAAED,OAAO,CAAC,CAAA;AAC5D,EAAA,MAAMK,MAAM,GAAG;IACb,GAAGN,KAAAA;GACJ,CAAA;AAEDI,EAAAA,eAAe,CAACG,OAAO,CAAC,CAAAC,IAAA,EAAsBC,KAAK,KAAK;IAAA,IAA/B;MAAEC,KAAK;AAAEC,MAAAA,QAAAA;AAAS,KAAC,GAAAH,IAAA,CAAA;AAC1C,IAAA,IAAIF,MAAM,CAACK,QAAQ,CAAC,KAAKC,SAAS,EAAE;AAClC;AACA,MAAA,KAAK,IAAIC,CAAC,GAAGJ,KAAK,GAAG,CAAC,EAAEI,CAAC,GAAGT,eAAe,CAACU,MAAM,EAAED,CAAC,EAAE,EAAE;QACvD,MAAME,mBAAmB,GAAGT,MAAM,CAACF,eAAe,CAACS,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAA;QAE/D,IAAII,mBAAmB,KAAKH,SAAS,EAAE;AACrCN,UAAAA,MAAM,CAACK,QAAQ,CAAC,GAAGI,mBAAmB,CAAA;AACtC,UAAA,MAAA;AACF,SAAA;AACF,OAAA;;AAEA;AACA,MAAA,IAAIT,MAAM,CAACK,QAAQ,CAAC,KAAKC,SAAS,EAAE;AAClC,QAAA,KAAK,IAAIC,CAAC,GAAGJ,KAAK,GAAG,CAAC,EAAEI,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;UACnC,MAAMG,kBAAkB,GAAGV,MAAM,CAACF,eAAe,CAACS,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAA;UAE9D,IAAIK,kBAAkB,KAAKJ,SAAS,EAAE;AACpCN,YAAAA,MAAM,CAACK,QAAQ,CAAC,GAAGK,kBAAkB,CAAA;AACrC,YAAA,MAAA;AACF,WAAA;AACF,SAAA;AACF,OAAA;AAEA,MAAA,IAAIV,MAAM,CAACK,QAAQ,CAAC,KAAKC,SAAS,EAAE;AAClC,QAAA,MAAM,IAAIK,KAAK,CAAC,YAAY,CAAC,CAAA;AAC/B,OAAA;AACF,KAAA;AACF,GAAC,CAAC,CAAA;AAEF,EAAA,OAAOX,MAAM,CAAA;AACf;;;;"}