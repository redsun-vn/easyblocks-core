{"version":3,"file":"getDeviceWidthPairs.js","sources":["../../../src/compiler/getDeviceWidthPairs.ts"],"sourcesContent":["import { Devices, TrulyResponsiveValue } from \"../types\";\nimport { responsiveValueForceGet } from \"../responsiveness/responsiveValueGet\";\n\ntype DeviceWidthPair = {\n  width: number;\n  deviceId: string;\n};\n\ntype DeviceWidthPairs = DeviceWidthPair[];\n\nexport function getDeviceWidthPairs(\n  widths: TrulyResponsiveValue<number>,\n  devices: Devices\n): DeviceWidthPairs {\n  const componentWidths: DeviceWidthPairs = [];\n\n  for (const key in widths) {\n    if (key === \"$res\") {\n      continue;\n    }\n    componentWidths.push({\n      width: responsiveValueForceGet(widths, key),\n      deviceId: key,\n    });\n  }\n\n  componentWidths.sort((x, y) => {\n    if (x.width === y.width) {\n      const xDevicesIndex = devices.findIndex((d) => d.id === x.deviceId);\n      const yDevicesIndex = devices.findIndex((d) => d.id === y.deviceId);\n      return xDevicesIndex > yDevicesIndex ? 1 : -1;\n    }\n\n    return x.width === y.width ? 0 : x.width > y.width ? 1 : -1;\n  });\n\n  return componentWidths;\n}\n\nexport function getDeviceWidthPairsFromDevices(devices: Devices) {\n  return devices.map((d) => ({\n    width: d.w,\n    deviceId: d.id,\n  }));\n}\n"],"names":["getDeviceWidthPairs","widths","devices","componentWidths","key","push","width","responsiveValueForceGet","deviceId","sort","x","y","xDevicesIndex","findIndex","d","id","yDevicesIndex","getDeviceWidthPairsFromDevices","map","w"],"mappings":";;;AAUO,SAASA,mBAAmBA,CACjCC,MAAoC,EACpCC,OAAgB,EACE;EAClB,MAAMC,eAAiC,GAAG,EAAE,CAAA;AAE5C,EAAA,KAAK,MAAMC,GAAG,IAAIH,MAAM,EAAE;IACxB,IAAIG,GAAG,KAAK,MAAM,EAAE;AAClB,MAAA,SAAA;AACF,KAAA;IACAD,eAAe,CAACE,IAAI,CAAC;AACnBC,MAAAA,KAAK,EAAEC,uBAAuB,CAACN,MAAM,EAAEG,GAAG,CAAC;AAC3CI,MAAAA,QAAQ,EAAEJ,GAAAA;AACZ,KAAC,CAAC,CAAA;AACJ,GAAA;AAEAD,EAAAA,eAAe,CAACM,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;AAC7B,IAAA,IAAID,CAAC,CAACJ,KAAK,KAAKK,CAAC,CAACL,KAAK,EAAE;AACvB,MAAA,MAAMM,aAAa,GAAGV,OAAO,CAACW,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKL,CAAC,CAACF,QAAQ,CAAC,CAAA;AACnE,MAAA,MAAMQ,aAAa,GAAGd,OAAO,CAACW,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKJ,CAAC,CAACH,QAAQ,CAAC,CAAA;AACnE,MAAA,OAAOI,aAAa,GAAGI,aAAa,GAAG,CAAC,GAAG,CAAC,CAAC,CAAA;AAC/C,KAAA;IAEA,OAAON,CAAC,CAACJ,KAAK,KAAKK,CAAC,CAACL,KAAK,GAAG,CAAC,GAAGI,CAAC,CAACJ,KAAK,GAAGK,CAAC,CAACL,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,CAAA;AAC7D,GAAC,CAAC,CAAA;AAEF,EAAA,OAAOH,eAAe,CAAA;AACxB,CAAA;AAEO,SAASc,8BAA8BA,CAACf,OAAgB,EAAE;AAC/D,EAAA,OAAOA,OAAO,CAACgB,GAAG,CAAEJ,CAAC,KAAM;IACzBR,KAAK,EAAEQ,CAAC,CAACK,CAAC;IACVX,QAAQ,EAAEM,CAAC,CAACC,EAAAA;AACd,GAAC,CAAC,CAAC,CAAA;AACL;;;;"}