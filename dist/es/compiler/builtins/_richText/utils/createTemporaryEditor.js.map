{"version":3,"file":"createTemporaryEditor.js","sources":["../../../../../../src/compiler/builtins/$richText/utils/createTemporaryEditor.ts"],"sourcesContent":["import { createEditor, Editor } from \"slate\";\r\nimport { withReact } from \"slate-react\";\r\nimport { withEasyblocks } from \"../withEasyblocks\";\r\n\r\n// Slate's transforms methods mutates given editor instance.\r\n// By creating temporary editor instance we can apply all transformations without\r\n// touching original editor and read result from `temporaryEditor.children`\r\nfunction createTemporaryEditor(\r\n  editor: Pick<Editor, \"children\" | \"selection\">\r\n): Editor {\r\n  const temporaryEditor = withEasyblocks(withReact(createEditor()));\r\n  temporaryEditor.children = [...editor.children];\r\n  temporaryEditor.selection = editor.selection ? { ...editor.selection } : null;\r\n  return temporaryEditor;\r\n}\r\n\r\nexport { createTemporaryEditor };\r\n"],"names":["createTemporaryEditor","editor","temporaryEditor","withEasyblocks","withReact","createEditor","children","selection"],"mappings":";;;;;AAIA;AACA;AACA;AACA,SAASA,qBAAqBA,CAC5BC,MAA8C,EACtC;EACR,MAAMC,eAAe,GAAGC,cAAc,CAACC,SAAS,CAACC,YAAY,EAAE,CAAC,CAAC,CAAA;EACjEH,eAAe,CAACI,QAAQ,GAAG,CAAC,GAAGL,MAAM,CAACK,QAAQ,CAAC,CAAA;AAC/CJ,EAAAA,eAAe,CAACK,SAAS,GAAGN,MAAM,CAACM,SAAS,GAAG;AAAE,IAAA,GAAGN,MAAM,CAACM,SAAAA;AAAU,GAAC,GAAG,IAAI,CAAA;AAC7E,EAAA,OAAOL,eAAe,CAAA;AACxB;;;;"}