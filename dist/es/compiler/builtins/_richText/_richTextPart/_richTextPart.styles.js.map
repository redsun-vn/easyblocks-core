{"version":3,"file":"_richTextPart.styles.js","sources":["../../../../../../src/compiler/builtins/$richText/$richTextPart/$richTextPart.styles.ts"],"sourcesContent":["import type {\r\n  NoCodeComponentEntry,\r\n  NoCodeComponentStylesFunctionInput,\r\n  NoCodeComponentStylesFunctionResult,\r\n} from \"../../../../types\";\r\n\r\nconst DEFAULT_FONT_VALUES = {\r\n  fontWeight: \"initial\",\r\n  fontStyle: \"initial\",\r\n};\r\n\r\nexport interface RichTextPartValues {\r\n  color: string;\r\n  font: Record<string, any>;\r\n  value: string;\r\n  TextWrapper: [NoCodeComponentEntry] | [];\r\n}\r\n\r\nexport function richTextPartStyles({\r\n  values: { color, font, TextWrapper },\r\n  isEditing,\r\n}: NoCodeComponentStylesFunctionInput<RichTextPartValues>): NoCodeComponentStylesFunctionResult {\r\n  const fontWithDefaults = {\r\n    ...DEFAULT_FONT_VALUES,\r\n    ...font,\r\n  };\r\n\r\n  const hasTextWrapper = TextWrapper.length > 0;\r\n\r\n  const textStyles: Record<string, any> = {\r\n    __as: \"span\",\r\n    color,\r\n    ...fontWithDefaults,\r\n  };\r\n\r\n  if (hasTextWrapper && !isEditing) {\r\n    // Force pointer events to be enabled on the text when text wrapper is attached and we're not editing\r\n    textStyles.pointerEvents = \"auto\";\r\n  }\r\n\r\n  if (isEditing) {\r\n    // When editing, we're going to have nested spans rendered by Slate so we need to make sure they inherit the font\r\n    // styles defined on Text component\r\n    textStyles['& [data-slate-string=\"true\"]'] = {\r\n      fontFamily: \"inherit\",\r\n      fontStyle: \"inherit\",\r\n      color: \"inherit\",\r\n    };\r\n  }\r\n\r\n  return {\r\n    styled: {\r\n      Text: textStyles,\r\n    },\r\n  };\r\n}\r\n"],"names":["DEFAULT_FONT_VALUES","fontWeight","fontStyle","richTextPartStyles","_ref","values","color","font","TextWrapper","isEditing","fontWithDefaults","hasTextWrapper","length","textStyles","__as","pointerEvents","fontFamily","styled","Text"],"mappings":";AAMA,MAAMA,mBAAmB,GAAG;AAC1BC,EAAAA,UAAU,EAAE,SAAS;AACrBC,EAAAA,SAAS,EAAE,SAAA;AACb,CAAC,CAAA;AASM,SAASC,kBAAkBA,CAAAC,IAAA,EAG8D;EAAA,IAH7D;AACjCC,IAAAA,MAAM,EAAE;MAAEC,KAAK;MAAEC,IAAI;AAAEC,MAAAA,WAAAA;KAAa;AACpCC,IAAAA,SAAAA;AACsD,GAAC,GAAAL,IAAA,CAAA;AACvD,EAAA,MAAMM,gBAAgB,GAAG;AACvB,IAAA,GAAGV,mBAAmB;IACtB,GAAGO,IAAAA;GACJ,CAAA;AAED,EAAA,MAAMI,cAAc,GAAGH,WAAW,CAACI,MAAM,GAAG,CAAC,CAAA;AAE7C,EAAA,MAAMC,UAA+B,GAAG;AACtCC,IAAAA,IAAI,EAAE,MAAM;IACZR,KAAK;IACL,GAAGI,gBAAAA;GACJ,CAAA;AAED,EAAA,IAAIC,cAAc,IAAI,CAACF,SAAS,EAAE;AAChC;IACAI,UAAU,CAACE,aAAa,GAAG,MAAM,CAAA;AACnC,GAAA;AAEA,EAAA,IAAIN,SAAS,EAAE;AACb;AACA;IACAI,UAAU,CAAC,8BAA8B,CAAC,GAAG;AAC3CG,MAAAA,UAAU,EAAE,SAAS;AACrBd,MAAAA,SAAS,EAAE,SAAS;AACpBI,MAAAA,KAAK,EAAE,SAAA;KACR,CAAA;AACH,GAAA;EAEA,OAAO;AACLW,IAAAA,MAAM,EAAE;AACNC,MAAAA,IAAI,EAAEL,UAAAA;AACR,KAAA;GACD,CAAA;AACH;;;;"}