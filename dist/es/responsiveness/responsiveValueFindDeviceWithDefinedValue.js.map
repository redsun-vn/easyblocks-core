{"version":3,"file":"responsiveValueFindDeviceWithDefinedValue.js","sources":["../../../src/responsiveness/responsiveValueFindDeviceWithDefinedValue.ts"],"sourcesContent":["import {\n  getDeviceWidthPairs,\n  getDeviceWidthPairsFromDevices,\n} from \"../compiler/getDeviceWidthPairs\";\nimport type { DeviceRange, Devices, TrulyResponsiveValue } from \"../types\";\n\nexport function responsiveValueFindHigherDeviceWithDefinedValue<T>(\n  value: TrulyResponsiveValue<T>,\n  breakpoint: string,\n  devices: Devices,\n  widths?: TrulyResponsiveValue<number>\n): DeviceRange | undefined {\n  const componentWidths = widths\n    ? getDeviceWidthPairs(widths, devices)\n    : getDeviceWidthPairsFromDevices(devices);\n\n  const componentWidthIndex = componentWidths.findIndex(\n    (x) => x.deviceId === breakpoint\n  );\n  const componentWidth = devices[componentWidthIndex];\n\n  if (!componentWidth) {\n    throw new Error(\"undefined breakpoint\");\n  }\n\n  //\n  // if (device.breakpoint === null) {\n  //   return;\n  // }\n\n  for (let i = componentWidthIndex + 1; i <= componentWidths.length - 1; i++) {\n    const deviceId = componentWidths[i].deviceId;\n\n    if (value[deviceId] !== undefined) {\n      return devices.find((d) => d.id === deviceId)!;\n    }\n  }\n\n  return undefined;\n}\n\nexport function responsiveValueFindLowerDeviceWithDefinedValue<T>(\n  value: TrulyResponsiveValue<T>,\n  breakpoint: string,\n  devices: Devices,\n  widths?: TrulyResponsiveValue<number>\n): DeviceRange | undefined {\n  const componentWidths = widths\n    ? getDeviceWidthPairs(widths, devices)\n    : getDeviceWidthPairsFromDevices(devices);\n  const componentWidthIndex = componentWidths.findIndex(\n    (x) => x.deviceId === breakpoint\n  );\n  const componentWidth = devices[componentWidthIndex];\n\n  if (!componentWidth) {\n    throw new Error(\"undefined breakpoint\");\n  }\n\n  for (let i = componentWidthIndex - 1; i >= 0; i--) {\n    const deviceId = componentWidths[i].deviceId;\n\n    if (value[deviceId] !== undefined) {\n      return devices.find((d) => d.id === deviceId)!;\n    }\n  }\n  return undefined;\n}\n\nexport function responsiveValueFindDeviceWithDefinedValue<T>(\n  value: TrulyResponsiveValue<T>,\n  breakpoint: string,\n  devices: Devices,\n  widths?: TrulyResponsiveValue<number>\n): DeviceRange | undefined {\n  if (value[breakpoint] !== undefined) {\n    return devices.find((x) => x.id === breakpoint);\n  }\n\n  const higherDevice = responsiveValueFindHigherDeviceWithDefinedValue(\n    value,\n    breakpoint,\n    devices,\n    widths\n  );\n\n  if (higherDevice !== undefined) {\n    return higherDevice;\n  }\n\n  const lowerDevice = responsiveValueFindLowerDeviceWithDefinedValue(\n    value,\n    breakpoint,\n    devices,\n    widths\n  );\n\n  if (lowerDevice !== undefined) {\n    return lowerDevice;\n  }\n\n  return undefined;\n}\n"],"names":["responsiveValueFindHigherDeviceWithDefinedValue","value","breakpoint","devices","widths","componentWidths","getDeviceWidthPairs","getDeviceWidthPairsFromDevices","componentWidthIndex","findIndex","x","deviceId","componentWidth","Error","i","length","undefined","find","d","id","responsiveValueFindLowerDeviceWithDefinedValue","responsiveValueFindDeviceWithDefinedValue","higherDevice","lowerDevice"],"mappings":"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"}