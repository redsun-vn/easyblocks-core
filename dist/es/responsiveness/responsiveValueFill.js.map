{"version":3,"file":"responsiveValueFill.js","sources":["../../../src/responsiveness/responsiveValueFill.ts"],"sourcesContent":["import { getDeviceWidthPairs } from \"../compiler/getDeviceWidthPairs\";\r\nimport { Devices, ResponsiveValue, TrulyResponsiveValue } from \"../types\";\r\nimport { isTrulyResponsiveValue } from \"./isTrulyResponsiveValue\";\r\n\r\nexport function responsiveValueFill<T>(\r\n  value: ResponsiveValue<T>,\r\n  devices: Devices,\r\n  widths: TrulyResponsiveValue<number>\r\n): ResponsiveValue<T> {\r\n  if (!isTrulyResponsiveValue(value)) {\r\n    return value;\r\n  }\r\n\r\n  const componentWidths = getDeviceWidthPairs(widths, devices);\r\n  const result = {\r\n    ...value,\r\n  };\r\n\r\n  componentWidths.forEach(({ width, deviceId }, index) => {\r\n    if (result[deviceId] === undefined) {\r\n      // Let's look for a value up\r\n      for (let i = index + 1; i < componentWidths.length; i++) {\r\n        const valueForHigherWidth = result[componentWidths[i].deviceId];\r\n\r\n        if (valueForHigherWidth !== undefined) {\r\n          result[deviceId] = valueForHigherWidth;\r\n          break;\r\n        }\r\n      }\r\n\r\n      // If still undefined, let's look for a value down\r\n      if (result[deviceId] === undefined) {\r\n        for (let i = index - 1; i >= 0; i--) {\r\n          const valueForLowerWidth = result[componentWidths[i].deviceId];\r\n\r\n          if (valueForLowerWidth !== undefined) {\r\n            result[deviceId] = valueForLowerWidth;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (result[deviceId] === undefined) {\r\n        throw new Error(\"Can't fill\");\r\n      }\r\n    }\r\n  });\r\n\r\n  return result;\r\n}\r\n"],"names":["responsiveValueFill","value","devices","widths","isTrulyResponsiveValue","componentWidths","getDeviceWidthPairs","result","forEach","_ref","index","width","deviceId","undefined","i","length","valueForHigherWidth","valueForLowerWidth","Error"],"mappings":";;;;AAIO,SAASA,mBAAmBA,CACjCC,KAAyB,EACzBC,OAAgB,EAChBC,MAAoC,EAChB;AACpB,EAAA,IAAI,CAACC,sBAAsB,CAACH,KAAK,CAAC,EAAE;AAClC,IAAA,OAAOA,KAAK,CAAA;AACd,GAAA;AAEA,EAAA,MAAMI,eAAe,GAAGC,mBAAmB,CAACH,MAAM,EAAED,OAAO,CAAC,CAAA;AAC5D,EAAA,MAAMK,MAAM,GAAG;IACb,GAAGN,KAAAA;GACJ,CAAA;AAEDI,EAAAA,eAAe,CAACG,OAAO,CAAC,CAAAC,IAAA,EAAsBC,KAAK,KAAK;IAAA,IAA/B;MAAEC,KAAK;AAAEC,MAAAA,QAAAA;AAAS,KAAC,GAAAH,IAAA,CAAA;AAC1C,IAAA,IAAIF,MAAM,CAACK,QAAQ,CAAC,KAAKC,SAAS,EAAE;AAClC;AACA,MAAA,KAAK,IAAIC,CAAC,GAAGJ,KAAK,GAAG,CAAC,EAAEI,CAAC,GAAGT,eAAe,CAACU,MAAM,EAAED,CAAC,EAAE,EAAE;QACvD,MAAME,mBAAmB,GAAGT,MAAM,CAACF,eAAe,CAACS,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAA;QAE/D,IAAII,mBAAmB,KAAKH,SAAS,EAAE;AACrCN,UAAAA,MAAM,CAACK,QAAQ,CAAC,GAAGI,mBAAmB,CAAA;AACtC,UAAA,MAAA;AACF,SAAA;AACF,OAAA;;AAEA;AACA,MAAA,IAAIT,MAAM,CAACK,QAAQ,CAAC,KAAKC,SAAS,EAAE;AAClC,QAAA,KAAK,IAAIC,CAAC,GAAGJ,KAAK,GAAG,CAAC,EAAEI,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;UACnC,MAAMG,kBAAkB,GAAGV,MAAM,CAACF,eAAe,CAACS,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAA;UAE9D,IAAIK,kBAAkB,KAAKJ,SAAS,EAAE;AACpCN,YAAAA,MAAM,CAACK,QAAQ,CAAC,GAAGK,kBAAkB,CAAA;AACrC,YAAA,MAAA;AACF,WAAA;AACF,SAAA;AACF,OAAA;AAEA,MAAA,IAAIV,MAAM,CAACK,QAAQ,CAAC,KAAKC,SAAS,EAAE;AAClC,QAAA,MAAM,IAAIK,KAAK,CAAC,YAAY,CAAC,CAAA;AAC/B,OAAA;AACF,KAAA;AACF,GAAC,CAAC,CAAA;AAEF,EAAA,OAAOX,MAAM,CAAA;AACf;;;;"}