{"version":3,"file":"spacingToPx.js","sources":["../../src/spacingToPx.ts"],"sourcesContent":["import { reduceCSSCalc } from \"@/reduce-css-calc\";\r\nimport { Spacing } from \"./types\";\r\n\r\ntype PxSpacing = {\r\n  unit: \"px\";\r\n  value: number;\r\n};\r\n\r\ntype VwSpacing = {\r\n  unit: \"vw\";\r\n  value: number;\r\n};\r\n\r\ntype ParsedSpacing = PxSpacing | VwSpacing;\r\n\r\nexport function parseSpacing(spacing: string): ParsedSpacing {\r\n  if (spacing.endsWith(\"px\")) {\r\n    const value = parseFloat(spacing);\r\n    if (isNaN(value)) {\r\n      throw new Error(`incorrect spacing: ${spacing}`);\r\n    }\r\n    return {\r\n      unit: \"px\",\r\n      value,\r\n    };\r\n  }\r\n\r\n  if (spacing.endsWith(\"vw\")) {\r\n    const value = parseFloat(spacing);\r\n    if (isNaN(value)) {\r\n      throw new Error(`incorrect spacing: ${spacing}`);\r\n    }\r\n    return {\r\n      unit: \"vw\",\r\n      value,\r\n    };\r\n  }\r\n\r\n  throw new Error(`incorrect spacing: ${spacing}.`);\r\n}\r\n\r\nexport function spacingToPx(spacing: Spacing, width: number): number {\r\n  const reducedSpacing = reduceCSSCalc(\r\n    `calc(${spacing})` /* wrapping calc is necessary, otherwise max(10px,20px) doesn't work */,\r\n    5,\r\n    { vw: width, percent: width }\r\n  );\r\n\r\n  const parsed = parseSpacing(reducedSpacing);\r\n  if (parsed.unit === \"px\") {\r\n    return parsed.value;\r\n  }\r\n\r\n  throw new Error(\r\n    `Error while running spacingToPx for spacing: ${spacing} and width: ${width}`\r\n  );\r\n}\r\n"],"names":["parseSpacing","spacing","endsWith","value","parseFloat","isNaN","Error","unit","spacingToPx","width","reducedSpacing","reduceCSSCalc","vw","percent","parsed"],"mappings":";;;AAeO,SAASA,YAAYA,CAACC,OAAe,EAAiB;AAC3D,EAAA,IAAIA,OAAO,CAACC,QAAQ,CAAC,IAAI,CAAC,EAAE;AAC1B,IAAA,MAAMC,KAAK,GAAGC,UAAU,CAACH,OAAO,CAAC,CAAA;AACjC,IAAA,IAAII,KAAK,CAACF,KAAK,CAAC,EAAE;AAChB,MAAA,MAAM,IAAIG,KAAK,CAAC,CAAsBL,mBAAAA,EAAAA,OAAO,EAAE,CAAC,CAAA;AAClD,KAAA;IACA,OAAO;AACLM,MAAAA,IAAI,EAAE,IAAI;AACVJ,MAAAA,KAAAA;KACD,CAAA;AACH,GAAA;AAEA,EAAA,IAAIF,OAAO,CAACC,QAAQ,CAAC,IAAI,CAAC,EAAE;AAC1B,IAAA,MAAMC,KAAK,GAAGC,UAAU,CAACH,OAAO,CAAC,CAAA;AACjC,IAAA,IAAII,KAAK,CAACF,KAAK,CAAC,EAAE;AAChB,MAAA,MAAM,IAAIG,KAAK,CAAC,CAAsBL,mBAAAA,EAAAA,OAAO,EAAE,CAAC,CAAA;AAClD,KAAA;IACA,OAAO;AACLM,MAAAA,IAAI,EAAE,IAAI;AACVJ,MAAAA,KAAAA;KACD,CAAA;AACH,GAAA;AAEA,EAAA,MAAM,IAAIG,KAAK,CAAC,CAAsBL,mBAAAA,EAAAA,OAAO,GAAG,CAAC,CAAA;AACnD,CAAA;AAEO,SAASO,WAAWA,CAACP,OAAgB,EAAEQ,KAAa,EAAU;EACnE,MAAMC,cAAc,GAAGC,aAAa,CAClC,CAAA,KAAA,EAAQV,OAAO,CAAG,CAAA,CAAA,0EAClB,CAAC,EACD;AAAEW,IAAAA,EAAE,EAAEH,KAAK;AAAEI,IAAAA,OAAO,EAAEJ,KAAAA;AAAM,GAC9B,CAAC,CAAA;AAED,EAAA,MAAMK,MAAM,GAAGd,YAAY,CAACU,cAAc,CAAC,CAAA;AAC3C,EAAA,IAAII,MAAM,CAACP,IAAI,KAAK,IAAI,EAAE;IACxB,OAAOO,MAAM,CAACX,KAAK,CAAA;AACrB,GAAA;EAEA,MAAM,IAAIG,KAAK,CACb,CAAA,6CAAA,EAAgDL,OAAO,CAAeQ,YAAAA,EAAAA,KAAK,EAC7E,CAAC,CAAA;AACH;;;;"}