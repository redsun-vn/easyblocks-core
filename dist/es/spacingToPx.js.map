{"version":3,"file":"spacingToPx.js","sources":["../../src/spacingToPx.ts"],"sourcesContent":["import { reduceCSSCalc } from \"@/reduce-css-calc\";\nimport { Spacing } from \"./types\";\n\ntype PxSpacing = {\n  unit: \"px\";\n  value: number;\n};\n\ntype VwSpacing = {\n  unit: \"vw\";\n  value: number;\n};\n\ntype ParsedSpacing = PxSpacing | VwSpacing;\n\nexport function parseSpacing(spacing: string): ParsedSpacing {\n  if (spacing.endsWith(\"px\")) {\n    const value = parseFloat(spacing);\n    if (isNaN(value)) {\n      throw new Error(`incorrect spacing: ${spacing}`);\n    }\n    return {\n      unit: \"px\",\n      value,\n    };\n  }\n\n  if (spacing.endsWith(\"vw\")) {\n    const value = parseFloat(spacing);\n    if (isNaN(value)) {\n      throw new Error(`incorrect spacing: ${spacing}`);\n    }\n    return {\n      unit: \"vw\",\n      value,\n    };\n  }\n\n  throw new Error(`incorrect spacing: ${spacing}.`);\n}\n\nexport function spacingToPx(spacing: Spacing, width: number): number {\n  const reducedSpacing = reduceCSSCalc(\n    `calc(${spacing})` /* wrapping calc is necessary, otherwise max(10px,20px) doesn't work */,\n    5,\n    { vw: width, percent: width }\n  );\n\n  const parsed = parseSpacing(reducedSpacing);\n  if (parsed.unit === \"px\") {\n    return parsed.value;\n  }\n\n  throw new Error(\n    `Error while running spacingToPx for spacing: ${spacing} and width: ${width}`\n  );\n}\n"],"names":["parseSpacing","spacing","endsWith","value","parseFloat","isNaN","Error","unit","spacingToPx","width","reducedSpacing","reduceCSSCalc","vw","percent","parsed"],"mappings":";;;AAeO,SAASA,YAAYA,CAACC,OAAe,EAAiB;AAC3D,EAAA,IAAIA,OAAO,CAACC,QAAQ,CAAC,IAAI,CAAC,EAAE;AAC1B,IAAA,MAAMC,KAAK,GAAGC,UAAU,CAACH,OAAO,CAAC,CAAA;AACjC,IAAA,IAAII,KAAK,CAACF,KAAK,CAAC,EAAE;AAChB,MAAA,MAAM,IAAIG,KAAK,CAAC,CAAsBL,mBAAAA,EAAAA,OAAO,EAAE,CAAC,CAAA;AAClD,KAAA;IACA,OAAO;AACLM,MAAAA,IAAI,EAAE,IAAI;AACVJ,MAAAA,KAAAA;KACD,CAAA;AACH,GAAA;AAEA,EAAA,IAAIF,OAAO,CAACC,QAAQ,CAAC,IAAI,CAAC,EAAE;AAC1B,IAAA,MAAMC,KAAK,GAAGC,UAAU,CAACH,OAAO,CAAC,CAAA;AACjC,IAAA,IAAII,KAAK,CAACF,KAAK,CAAC,EAAE;AAChB,MAAA,MAAM,IAAIG,KAAK,CAAC,CAAsBL,mBAAAA,EAAAA,OAAO,EAAE,CAAC,CAAA;AAClD,KAAA;IACA,OAAO;AACLM,MAAAA,IAAI,EAAE,IAAI;AACVJ,MAAAA,KAAAA;KACD,CAAA;AACH,GAAA;AAEA,EAAA,MAAM,IAAIG,KAAK,CAAC,CAAsBL,mBAAAA,EAAAA,OAAO,GAAG,CAAC,CAAA;AACnD,CAAA;AAEO,SAASO,WAAWA,CAACP,OAAgB,EAAEQ,KAAa,EAAU;EACnE,MAAMC,cAAc,GAAGC,aAAa,CAClC,CAAA,KAAA,EAAQV,OAAO,CAAG,CAAA,CAAA,0EAClB,CAAC,EACD;AAAEW,IAAAA,EAAE,EAAEH,KAAK;AAAEI,IAAAA,OAAO,EAAEJ,KAAAA;AAAM,GAC9B,CAAC,CAAA;AAED,EAAA,MAAMK,MAAM,GAAGd,YAAY,CAACU,cAAc,CAAC,CAAA;AAC3C,EAAA,IAAII,MAAM,CAACP,IAAI,KAAK,IAAI,EAAE;IACxB,OAAOO,MAAM,CAACX,KAAK,CAAA;AACrB,GAAA;EAEA,MAAM,IAAIG,KAAK,CACb,CAAA,6CAAA,EAAgDL,OAAO,CAAeQ,YAAAA,EAAAA,KAAK,EAC7E,CAAC,CAAA;AACH;;;;"}